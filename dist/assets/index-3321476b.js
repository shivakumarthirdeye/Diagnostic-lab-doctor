import{j as e,r as g}from"./react-951c301a.js";import{L}from"./react-router-dom-2b5d05ea.js";import{u as B,b as R,F as q,a as D}from"./formik-537a3ea5.js";import{b as A,c as v,d as se,e as te}from"./yup-6b69d055.js";import{E as S,I as k,S as _}from"./Input-67d8e65d.js";import{S as W}from"./react-select-3262a79f.js";import"./yup-phone-lite-57a07919.js";import{A as ae,c as re,d as ie,e as le,f as H,g as ne,H as oe}from"./react-icons-b6cb1c8a.js";import{z as de}from"./react-datepicker-d4a81df2.js";import{r as M,a as ce,c as me,s as xe,B as pe}from"./index-e3725ff5.js";import{u as O,a as Z}from"./react-redux-43ddced7.js";import{a as $}from"./axios-4a70c6fc.js";import{A as z}from"./config-0471c59d.js";import{L as T,t as he}from"./@headlessui-eb5c9d05.js";import{N as ue,a as I}from"./react-router-e0ea48bb.js";import{_ as be}from"./disable-browser-back-navigation-6f865eb4.js";import{Q as U}from"./react-toastify-1c8b6060.js";import{J as je}from"./date-fns-e6f8078e.js";import"./@reduxjs-cc175dc0.js";import{R as fe}from"./immer-d44d0d4e.js";import"./classnames-d6e1bab7.js";import"./@remix-run-22f4369b.js";import"./react-fast-compare-539ed341.js";import"./deepmerge-15f827de.js";import"./lodash-es-87d1a1d5.js";import"./tiny-warning-c932d744.js";import"./hoist-non-react-statics-936d9ad8.js";import"./react-is-e8e5dbb3.js";import"./property-expr-38205fa5.js";import"./tiny-case-d0726479.js";import"./toposort-bf96c239.js";import"./@babel-3ec8e017.js";import"./@emotion-1bfd6dc4.js";import"./stylis-79144faa.js";import"./react-dom-9298c3d0.js";import"./scheduler-765c72db.js";import"./@floating-ui-29dab05b.js";import"./use-isomorphic-layout-effect-86152260.js";import"./memoize-one-297ddbcb.js";import"./libphonenumber-js-b82ac823.js";import"./react-onclickoutside-aefbdc92.js";import"./react-popper-fee193f7.js";import"./@popperjs-f3391c26.js";import"./warning-2130348e.js";import"./react-responsive-5aacdddd.js";import"./use-sync-external-store-7a2e4d44.js";import"./redux-75e49e16.js";import"./redux-thunk-ef899f4c.js";import"./clsx-1229b3e0.js";const J=({label:l,type:s,placeholder:a,options:t,disabled:c,isLoading:r,externalValue:x,setExternalValue:N,form:j,...m})=>{const[o,p,{setValue:y,setError:w,setTouched:n}]=B({...m,type:s}),{values:d}=R(),C=({value:i})=>{y(i)};return e.jsxs("div",{className:"form-group mb-5 w-full",children:[e.jsx("label",{className:`${c&&"opacity-60"} text-sm block mb-2 text`,children:l}),e.jsx(W,{options:t,...m,value:d[o.name]&&{label:d[o.name].charAt(0).toUpperCase()+d[o.name].slice(1),value:d[o.name]},onChange:C,onBlur:n,placeholder:a,components:{IndicatorSeparator:null},styles:{control:(i,{data:u,isDisabled:h,isFocused:b,isSelected:f})=>({...i,border:"1px solid rgba(0, 0, 0, 0.3)",boxShadow:"none",fontSize:"14px",borderRadius:"6px",padding:"4px 7px",color:"#000",fontWeight:"500",cursor:"pointer",opacity:h&&"0.7","&:hover":{border:"1px solid rgba(0, 0, 0, 0.3)"}}),option:(i,{data:u,isDisabled:h,isFocused:b,isSelected:f})=>({...i,fontSize:"15px",cursor:"pointer",background:f?"#B82C3A":b?"#b82c3a27":"none",":active":{background:"#B82C3A",color:"#fff"}}),placeholder:i=>({...i,fontSize:"14px",color:"rgba(0, 0, 0, 0.5)",margin:"0"})}}),p.touched&&p.error&&e.jsx(S,{msg:p.error})]})},ge=({paths:l,currentPage:s})=>e.jsxs("div",{className:" hidden xs:flex py-3 pb-5 items-center ",children:[l.map((a,t)=>e.jsxs("div",{className:"text-[#B5B5C3] text-sm ",children:[e.jsx(L,{to:a.to,children:a.name}),e.jsx("span",{children:"  /  "})]},t)),e.jsx("h3",{className:"text-primary text-sm font-medium",children:s})]}),P=({label:l,...s})=>{const[a,t,c]=B({...s});return e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...a,checked:a.value===s.value,...s,type:"radio",className:"opacity-0 absolute z-10 w-5 h-5 xs:w-8 xs:h-8 cursor-pointer"}),e.jsxs("label",{htmlFor:s.id,className:"flex items-center  cursor-pointer text-smw xs:text-base lg:text-xl",children:[e.jsx("span",{className:"w-[18px] h-[18px] xs:w-7 xs:h-7 inline-block mr-2 rounded-full border border-grey flex-no-shrink"}),l&&l]})]})},Ne=({label:l,type:s,placeholder:a,Icon:t,...c})=>{const[r,x,N]=B({...c,type:s}),[j,m]=g.useState(!1);return e.jsxs("div",{className:"form-group  mb-5 relative",children:[l&&e.jsx("label",{className:`${c.disabled&&"opacity-60"} text-[#181C32] hidden xs:block mb-1.5 text-sm font-medium   `,children:l}),t&&e.jsx(t,{className:"text-xl md:text-[24px] text-[#93989B] absolute left-2.5 top-4 "}),e.jsx("textarea",{...r,...c,type:j&&s==="password"?"text":s,placeholder:a,className:t&&"!pl-12"}),s==="password"&&e.jsx("div",{className:"absolute right-4 top-[15px]",children:e.jsx("button",{type:"button",onClick:()=>m(o=>!o),children:j?e.jsx(re,{size:22,className:"text-[#93989B]"}):e.jsx(ae,{size:22,className:"text-[#93989B]"})})}),x.touched&&x.error&&e.jsx(S,{msg:x.error})]})},G=[{id:1,value:"male",label:"Male"},{id:2,value:"female",label:"Female"},{id:3,value:"others",label:"Others"}],ye=({currentStep:l,setCurrentStep:s,patientValues:a,setPatientValues:t})=>{const c=a||{firstName:"",lastName:"",pat_id:"",age:"",gender:"",mobileNumber:"",email:"",address:"",city:"",notes:""},r=A({firstName:v().required("First Name is required"),lastName:v(),pat_id:v(),age:v().required("Age is required"),gender:v().required("Gender is required"),mobileNumber:v().phone("IN","Please enter a valid phone number"),email:v().email("Enter valid email address"),address:v(),city:v(),notes:v()});return e.jsxs("div",{className:"px-1.5 xl:px-8",children:[e.jsx("h1",{className:"text-xl font-medium hidden xs:block",children:"Basic information"}),e.jsx("p",{className:"pt-3 text-[#2B2B2B] text-xs",children:"Lorem Ipsum has been the industry's standard dummy text."}),e.jsx(q,{initialValues:c,validationSchema:r,onSubmit:x=>{t(x),s(2)},children:x=>{const{values:N,touched:j,errors:m}=x;return e.jsxs(D,{className:"form my-10",children:[e.jsxs("div",{className:"md:grid  grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-8 xl:gap-12 gap-y-5",children:[e.jsx(k,{label:"Patient First Name*",name:"firstName",id:"firstName",placeholder:"Enter first name"}),e.jsx(k,{label:"Last name",name:"lastName",id:"lastName",placeholder:"Enter last name"}),e.jsx(k,{label:"Patient ID",name:"pat_id",id:"pat_id",placeholder:"Enter ID"}),e.jsx("div",{className:"hidden xs:block",children:e.jsx(J,{label:"Gender*",name:"gender",id:"gender",placeholder:"Select gender",options:G})}),e.jsxs("div",{className:"xs:hidden my-5",children:[e.jsx("h2",{className:"text-sm",children:"Select Gender"}),e.jsx("div",{className:"flex items-center mt-3 mb-1 justify-between",children:G.map(o=>{const{id:p,label:y,value:w}=o;return e.jsx(P,{name:"gender",id:w,label:y,value:w},p)})}),j.gender&&m.gender&&e.jsx(S,{msg:m.gender})]}),e.jsx(k,{label:"Age*",name:"age",id:"age",placeholder:"Enter Age"}),e.jsx(k,{label:"Mobile Number",name:"mobileNumber",id:"mobileNumber",placeholder:"Enter mobile number"}),e.jsx(k,{label:"Email",name:"email",id:"email",placeholder:"Enter email address"}),e.jsx("br",{className:"hidden md:block"}),e.jsx("div",{className:"col-span-2",children:e.jsx(k,{label:"Address",name:"address",id:"address",placeholder:"Enter Address"})}),e.jsx(k,{label:"City",name:"city",id:"city",placeholder:"Enter City Name"}),e.jsx("div",{className:"col-span-3",children:e.jsx(Ne,{label:"Notes",name:"notes",id:"notes",placeholder:"Enter Notes"})})]}),e.jsxs("div",{className:"my-5 xs:my-10 flex items-center justify-center space-x-4",children:[e.jsx(L,{to:"/",className:`py-3 hidden xs:block \r
                  text-sm lg:text-base px-8 bg-[#C9C9C9] text-white rounded  font-semibold`,children:"Cancel"}),e.jsx(_,{text:"Proceed",className:"py-4 xs:!py-3 !w-full  text-sm lg:text-base !px-8 bg-primary xs:max-w-[110px] rounded text-white font-semibold"})]})]})}})]})},ve=({label:l,type:s,placeholder:a,showTime:t,externalValue:c,setExternalValue:r,...x})=>{B({...x,type:s});const[N,j,m]=B({...x,type:s});return e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block mb-1 text-sm",children:l}),e.jsxs("div",{className:"relative w-full mb-4",children:[e.jsx(de,{showTimeSelect:t,...N,...x,dateFormat:"dd/MM/yy hh:mm a",onTouch:m.setTouched,placeholder:a,selected:N.value,onChange:o=>{m.setValue(o),c&&r(p=>({...p,[N.name]:o}))},className:"border border-black/30  text-sm  w-full !py-3 mt-1 rounded-md   pl-12"}),e.jsx("div",{className:"absolute left-4 top-4",children:e.jsx(ie,{className:"text-black/50 text-xl "})}),j.touched&&j.error&&e.jsx(S,{msg:j.error})]})]})},we=({label:l,type:s,placeholder:a,options:t,disabled:c,isLoading:r,externalValue:x,setExternalValue:N,form:j,...m})=>{const[o,p,{setValue:y,setError:w,setTouched:n}]=B({...m,type:s}),{values:d}=R(),C=({value:i})=>{y(i)};return e.jsxs("div",{className:"form-group mb-5 w-full",children:[e.jsx("label",{className:`${c&&"opacity-60"} text-sm block mb-2 text`,children:l}),console.log("CustomSelect===>",t),e.jsx(W,{options:t,...m,value:d[o.name]&&{label:d[o.name],value:d[o.name]},onChange:C,onBlur:n,placeholder:a,components:{IndicatorSeparator:null},styles:{control:(i,{data:u,isDisabled:h,isFocused:b,isSelected:f})=>({...i,border:"1px solid rgba(0, 0, 0, 0.3)",boxShadow:"none",fontSize:"14px",borderRadius:"6px",padding:"4px 7px",color:"#000",fontWeight:"500",cursor:"pointer",opacity:h&&"0.7","&:hover":{border:"1px solid rgba(0, 0, 0, 0.3)"}}),option:(i,{data:u,isDisabled:h,isFocused:b,isSelected:f})=>({...i,fontSize:"15px",cursor:"pointer",background:f?"#B82C3A":b?"#b82c3a27":"none",":active":{background:"#B82C3A",color:"#fff"}}),placeholder:i=>({...i,fontSize:"14px",color:"rgba(0, 0, 0, 0.5)",margin:"0"})}}),p.touched&&p.error&&e.jsx(S,{msg:p.error})]})},Ce=({currentStep:l,setCurrentStep:s,testInfoValues:a,setTestInfoValues:t})=>{const c=O(),{tests:r}=Z(y=>y.newBooking),[x,N]=g.useState(),j=localStorage.getItem("access_token");console.log("Investigation",r);const m=a||{reportCategory:"",sample:"",tests:"",pickupTime:new Date},o=async y=>{var w;try{const n=await $.get(`${z}/gettestcategory`,{headers:{authtoken:`${j}`}});N((w=n==null?void 0:n.data)==null?void 0:w.testCategory)}catch(n){console.log(n)}};g.useEffect(()=>{o()},[]);const p=A({reportCategory:v().required("Report Category Name is required"),sample:v().required("Sample Name is required"),pickupTime:v().required("Pickup Time Name is required"),tests:se().of(A().shape({id:v(),name:v(),shortName:v(),price:te()})).required("Tests List is required")});return e.jsxs("div",{className:"max-w-4xl  mx-auto",children:[e.jsx("h1",{className:"text-xl hidden xs:block mb-8 font-medium",children:"Test information"}),e.jsx("p",{className:"my-4 text-[#2B2B2B] text-xs",children:"Lorem Ipsum has been the industry's standard dummy text."}),e.jsx(q,{initialValues:m,validationSchema:p,onSubmit:(y,w)=>{if(!r.length)return w.setFieldError("tests","required");t({...y,tests:r}),s(3)},children:y=>{const{values:w,setFieldValue:n,setTouched:d,touched:C}=y;return e.jsxs(D,{className:"my-6 xs:my-4",children:[e.jsxs("div",{className:"block xs:hidden my-4 mb-6",children:[e.jsxs("button",{type:"button",onClick:()=>{d({tests:!0})},className:"flex  items-center space-x-3 text-[#B82C3A] text-sm font-semibold",children:[e.jsx("span",{className:" w-5 h-5 rounded-full flex items-center justify-center  bg-[#B82C3A]/20 ",children:e.jsx(le,{className:"text-lg"})}),e.jsx("span",{children:"Add test"})]}),C.tests&&!w.tests.length&&!r.length&&e.jsx(S,{msg:"Test List is required"}),e.jsx("div",{className:"grid md:grid-cols-2 my-5 gap-5 ",children:r==null?void 0:r.map(i=>{const{name:u,id:h,shortname:b,Rate:f}=i;return e.jsxs("div",{className:"p-[14px] relative text-sm rounded-md border  border-[#F6AFAF]",children:[e.jsx("h1",{className:"font-medium",children:u}),e.jsx("p",{className:"py-1 pb-2 text-[#ABABAB] text-xs",children:b}),e.jsxs("h2",{className:"text-[#497BEA] font-semibold",children:[" ","₹",f]}),e.jsx("button",{onClick:()=>{c(M({testId:i.id})),n("tests",[...a==null?void 0:a.tests.filter(F=>F.id!==i.id)])},className:"absolute top-5 right-5  w-5 text-primary text-xl h-5 flex items-center justify-center bg-[#FDF4F4] rounded-full",children:e.jsx(H,{})})]},h)})})]}),e.jsxs("div",{className:"flex  space-x-10",children:[e.jsx("div",{className:"flex-1",children:e.jsx(we,{label:"Report Category*",name:"reportCategory",id:"reportCategory",placeholder:"Select Report Category",options:[{label:"Urine",value:"urine"},{label:"Blood",value:"blood"}]})}),e.jsx("div",{className:"hidden md:block flex-1"})]}),e.jsxs("div",{className:"hidden xs:block",children:[e.jsx(ke,{testInfoValues:a,setTestInfoValues:t}),e.jsx("div",{className:"grid md:grid-cols-2 gap-5 ",children:r==null?void 0:r.map(i=>{const{name:u,_id:h,shortname:b,Rate:f}=i;return e.jsxs("div",{className:"p-[14px] relative text-sm rounded-md border  border-[#F6AFAF]",children:[e.jsx("h1",{className:"font-medium",children:u}),e.jsx("p",{className:"py-1 pb-2 text-[#ABABAB] text-xs",children:b}),e.jsxs("h2",{className:"text-[#497BEA] font-semibold",children:[" ","₹",f]}),e.jsx("button",{onClick:()=>{c(M({testId:i.id})),n("tests",[...a==null?void 0:a.tests.filter(F=>(F==null?void 0:F.id)!==i.id)])},className:"absolute top-5 right-5  w-5 text-primary text-xl h-5 flex items-center justify-center bg-[#FDF4F4] rounded-full",children:e.jsx(H,{})})]},h)})}),e.jsxs("div",{className:"text-sm flex py-3 pb-5 justify-between",children:[e.jsxs("h1",{children:["Selected count(",r==null?void 0:r.length,")"]}),e.jsxs("h1",{children:["Total amount:"," ",e.jsxs("span",{className:"font-bold ",children:[" ","₹",r==null?void 0:r.reduce((i,u)=>i=i+u.Rate,0)]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row w-full  md:space-x-10",children:[e.jsx("div",{className:"flex-1",children:e.jsx(J,{label:"Sample*",name:"sample",id:"sample",placeholder:"Select Sample",options:[{label:"Urine",value:"urine"},{label:"Blood",value:"blood"}]})}),e.jsx("div",{className:"flex-1",children:e.jsx(ve,{label:"Sample pickup time*",name:"pickupTime",id:"pickupTime",placeholder:"Select Sample pickup time",showTime:!0})})]}),e.jsxs("div",{className:"my-2 xs:my-10 flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>{s(1)},className:"py-3 hidden xs:block text-sm lg:text-base px-8 bg-[#C9C9C9] text-white rounded  font-semibold",children:"Previous"}),e.jsx(_,{text:"Proceed",className:"!py-3 w-full text-sm lg:text-base !px-8 bg-primary xs:max-w-[110px] rounded text-white font-semibold"})]})]})}})]})};function ke({testInfoValues:l,setTestInfoValues:s}){const a=O(),{tests:t}=Z(u=>u.newBooking);console.log("");const c=localStorage.getItem("access_token"),[r,x]=B({name:"tests"}),[N,j]=g.useState(),m=async u=>{var h,b;try{const f=await $.get(`${z}/gettestsubcategorys`,{headers:{authtoken:`${c}`}});j((h=f==null?void 0:f.data)==null?void 0:h.subTestCategory),console.log("data?.data?.subTestCategory",(b=f==null?void 0:f.data)==null?void 0:b.subTestCategory)}catch(f){console.log(f)}};g.useEffect(()=>{m()},[]);const{values:o,setFieldValue:p,setTouched:y,setErrors:w,setFieldError:n}=R(),d=(u,h)=>{y({tests:!0}),t.findIndex(b=>b.id===h.id)!==-1?(p("tests",[...t.filter(b=>b.id!==h.id)]),a(M({testId:h.id}))):(a(ce({newTest:h})),p("tests",[...t,h])),u()};g.useRef();const[C,i]=g.useState("");return console.log("searchValue",C),e.jsxs("div",{className:"my-4",onFocus:()=>{y({tests:!0})},children:[e.jsx("label",{className:" text-sm block mb-2 ",children:" Select Test*"}),e.jsx(T,{className:"relative",children:({open:u,...h})=>e.jsxs(e.Fragment,{children:[u?e.jsx("input",{className:`flex items-center justify-between w-full \r
                  py-3 px-5 rounded-md border border-[#C9C9C9]\r
                  text-sm focus:outline-none`,autoFocus:u,value:C,onChange:b=>{i(b.target.value)},type:"text",placeholder:"Enter & search"}):e.jsxs(T.Button,{className:`flex items-center justify-between \r
                w-full py-3 px-5 rounded-md border border-[#C9C9C9]\r
                text-sm text-[#C9C9C9] focus:outline-none`,children:[e.jsx("span",{children:"Enter & search"}),e.jsx(ne,{"aria-hidden":"true",className:"text-2xl"})]}),e.jsx(he,{as:g.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:e.jsx(T.Panel,{className:"absolute left-1/2 z-10 mt-3 w-[90vw] max-w-4xl -translate-x-1/2 transform  sm:px-0 lg:max-w-4xl bg-white  rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:b=>{const{open:f,close:F}=b;return e.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-[#FAFAFA] text-[#B5B5C3]",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold  sm:pl-6",children:"Test"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold ",children:"Short Name"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold ",children:"Rate/price"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-dark-500",children:N==null?void 0:N.filter(E=>E.name.toLowerCase().includes(C.toLowerCase())).map((E,Te)=>{const{_id:Q,name:X,Rate:Y,shortname:V}=E;return e.jsxs("tr",{onClick:()=>{d(F,E)},className:"cursor-pointer bg-white text-[#464E5F] font-semibold relative",children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium  sm:pl-6",children:X}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm ",children:V}),e.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm ",children:["₹",Y]}),t&&(t==null?void 0:t.findIndex(ee=>ee.id===E._id))!==-1&&e.jsx("div",{className:"absolute top-3 right-5",children:e.jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{clipPath:"url(#clip0_883_7878)",children:e.jsx("path",{d:"M6.94873 11.9486L10.2406 15.055L16.8244 8.39844",stroke:"#27AE60",strokeWidth:"2.88241",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("rect",{x:"1.31374",y:"1.15359",width:"21.146",height:"21.146",rx:"3.84321",stroke:"#27AE60",strokeWidth:"0.854047"}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_883_7878",children:e.jsx("rect",{x:"0.886719",y:"0.726562",width:"22",height:"22",rx:"4.27023",fill:"white"})})})]})})]},Q)})})]})})}})})]})}),x.touched&&!x.value.length&&!t.length&&e.jsx(S,{msg:"Test List is required"})]})}const K=l=>{window.onbeforeunload=s=>{if(l){const a=s||window.event;return a.preventDefault(),a&&(a.returnValue=""),""}}};function Se(l){const[s,a]=g.useState(l);return window.onload=function(){K(s)},g.useEffect(()=>{K(s)},[s]),[s,a]}function Fe(l,s){const{navigator:a}=g.useContext(ue);g.useEffect(()=>{if(!s)return;const t=a.push;return a.push=(...c)=>{l()!==!1&&t(...c)},()=>{a.push=t}},[a,l,s])}function Be(l,s){g.useEffect(()=>(s&&(window.onbeforeunload=function(){return l}),()=>{window.onbeforeunload=null}),[l,s]);const a=g.useCallback(()=>window.confirm(l),[l]);Fe(a,s)}const Ee=({currentStep:l,setCurrentStep:s,patientValues:a,testInfoValues:t,setShowConfirmMessage:c})=>{var p,y,w;const r=O();I();const x={paymentMethod:""},N=(p=t==null?void 0:t.tests)==null?void 0:p.reduce((n,d)=>n=n+d.Rate,-100),j=localStorage.getItem("access_token"),m=A({paymentMethod:v().required("Payment Method is required")}),o=async n=>{try{const d=await $.post(`${z}/register-web-patience`,{patientValues:a,testInfoValues:t,amount:N,paymentInfo:n},{headers:{authtoken:`${j}`}});console.log("response",d),d.data.patients?(c(!1),r(me()),r(xe({modalType:pe,modalProps:{testInfoValues:{...t,pickupTime:new Date(t.pickupTime).toISOString()},patientValues:a,paymentInfo:n,onClose:"/"}}))):d.data.errors&&U.error("Patient already exists")}catch(d){console.error(d),U.error("Patient already exists")}};return e.jsx("div",{className:"py-5",children:e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-lg mx-auto",children:[e.jsxs("div",{className:"border border-[#F8F8F8] mb-5 rounded-md p-2.5 xs:px-5 py-3.5 w-full",children:[e.jsx("h1",{className:"text-sm xs:text-base font-medium",children:"Sample Pick up time"}),e.jsx("p",{className:"text-xs xs:text-sm text-[#2B2B2B] pt-1.5",children:je(new Date(t==null?void 0:t.pickupTime),"do MMM yyyy, h:mm aa")})]}),e.jsxs("div",{className:"border border-[#F8F8F8] rounded-md mb-5  pt-3.5 w-full",children:[e.jsxs("div",{className:" text-sm xs:text-base border-b border-[#F8F8F8] p-2.5 xs:px-5",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2.5",children:[e.jsx("h1",{children:"Diagnostic Center"}),e.jsx("p",{className:"font-medium",children:"Health at Home"})]}),e.jsx("div",{className:"text-sm xs:text-base",children:(y=t==null?void 0:t.tests)==null?void 0:y.map(n=>{const{id:d,name:C,Rate:i}=n;return e.jsxs("div",{className:"flex justify-between items-center pb-2.5",children:[e.jsx("h1",{children:C}),e.jsxs("p",{className:"font-medium text-green",children:["INR. ",i]})]},d)})}),e.jsxs("div",{className:"flex justify-between items-center pb-2.5",children:[e.jsx("h1",{children:"Discount"}),e.jsx("p",{className:"font-medium text-green",children:"INR. 100"})]})]}),e.jsxs("div",{className:"flex text-sm xs:text-base justify-between items-center py-2.5 p-2.5 xs:px-5",children:[e.jsx("h1",{children:"Total Amount"}),e.jsxs("p",{className:"font-medium text-primary",children:["INR."," ",(w=t==null?void 0:t.tests)==null?void 0:w.reduce((n,d)=>n=n+d.Rate,-100)]})]})]}),e.jsxs("div",{className:"w-full ",children:[e.jsx("h1",{className:"font-medium  text-sm xs:text-base ",children:"Payment Method"}),e.jsx(q,{initialValues:x,validationSchema:m,onSubmit:o,children:n=>{const{values:d,setFieldValue:C,touched:i,errors:u}=n;return e.jsxs(D,{className:"form my-10",children:[e.jsxs("button",{type:"button",onClick:h=>{C("paymentMethod","online")},className:"border flex items-center justify-between border-[#F8F8F8] rounded-md mb-5  p-2.5 xs:px-5 py-3.5 w-full",children:[e.jsxs("div",{className:"flex items-center text-sm xs:text-base   space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-[#E7FFE0]"}),e.jsx("h2",{children:"Online"})]}),e.jsx(P,{label:"",name:"paymentMethod",id:"paymentMethod",value:"online"})]}),e.jsxs("button",{type:"button",onClick:h=>{C("paymentMethod","cash")},className:"border flex items-center  justify-between border-[#F8F8F8] rounded-md mb-5  p-2.5 xs:px-5 py-3.5 w-full",children:[e.jsxs("div",{className:"flex items-center text-sm xs:text-base  space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-[#FDF4F4] flex items-center justify-center",children:e.jsxs("svg",{width:"19",height:"12",viewBox:"0 0 19 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M9.02344 8.38818C9.62017 8.38818 10.1925 8.15113 10.6144 7.72917C11.0364 7.30722 11.2734 6.73492 11.2734 6.13818C11.2734 5.54145 11.0364 4.96915 10.6144 4.54719C10.1925 4.12524 9.62017 3.88818 9.02344 3.88818C8.4267 3.88818 7.8544 4.12524 7.43245 4.54719C7.01049 4.96915 6.77344 5.54145 6.77344 6.13818C6.77344 6.73492 7.01049 7.30722 7.43245 7.72917C7.8544 8.15113 8.4267 8.38818 9.02344 8.38818Z",fill:"#9A0007"}),e.jsx("path",{d:"M0.0234375 1.63818C0.0234375 1.33982 0.141964 1.05367 0.352942 0.842688C0.563921 0.63171 0.850069 0.513184 1.14844 0.513184H16.8984C17.1968 0.513184 17.483 0.63171 17.6939 0.842688C17.9049 1.05367 18.0234 1.33982 18.0234 1.63818V10.6382C18.0234 10.9366 17.9049 11.2227 17.6939 11.4337C17.483 11.6447 17.1968 11.7632 16.8984 11.7632H1.14844C0.850069 11.7632 0.563921 11.6447 0.352942 11.4337C0.141964 11.2227 0.0234375 10.9366 0.0234375 10.6382V1.63818ZM3.39844 1.63818C3.39844 2.23492 3.16138 2.80722 2.73943 3.22917C2.31747 3.65113 1.74517 3.88818 1.14844 3.88818V8.38818C1.74517 8.38818 2.31747 8.62524 2.73943 9.04719C3.16138 9.46915 3.39844 10.0414 3.39844 10.6382H14.6484C14.6484 10.0414 14.8855 9.46915 15.3074 9.04719C15.7294 8.62524 16.3017 8.38818 16.8984 8.38818V3.88818C16.3017 3.88818 15.7294 3.65113 15.3074 3.22917C14.8855 2.80722 14.6484 2.23492 14.6484 1.63818H3.39844Z",fill:"#9A0007"})]})}),e.jsx("h2",{children:"Cash"})]}),e.jsx(P,{name:"paymentMethod",id:"paymentMethod",value:"cash"})]}),i.paymentMethod&&u.paymentMethod&&e.jsx(S,{msg:u.paymentMethod}),e.jsxs("div",{className:"my-10 flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>{s(2)},className:"py-3 text-sm lg:text-base   px-8 bg-[#C9C9C9] text-white rounded  font-semibold",children:"Previous"}),e.jsx(_,{text:"Submit",className:"!py-3 text-sm lg:text-base   !px-8 bg-primary max-w-[110px] rounded text-white font-semibold"})]})]})}})]})]})})},Ae=[{id:1,name:"Patient Information"},{id:2,name:"Investigations"},{id:3,name:"Payments"}],Fs=()=>{const l=I(),[s,a]=g.useState(1),[t,c]=Se(!1),[r,x]=g.useState(null),[N,j]=g.useState({reportCategory:"",sample:"",pickupTime:new Date,tests:[]});return Be("Changes that you made may not be saved.",t),g.useEffect(()=>{r&&c(!0)},[r]),g.useEffect(()=>{t&&be()},[t]),e.jsxs("div",{children:[" ",e.jsx(ge,{paths:[{id:1,name:"Booking List",to:"/"}],currentPage:"New Booking Form"}),e.jsxs("div",{className:"mainContainer",children:[e.jsxs("div",{className:"hidden xs:flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-medium text-black-500 ",children:"Lab Booking"}),e.jsx("p",{className:"text-[#B5B5C3] mt-2",children:"Complete all 3 steps"})]}),e.jsx("div",{children:e.jsx(L,{to:"/patients",className:"bg-primary py-2.5 text-sm px-4 rounded-[10px] text-white font-semibold",children:"Back to all"})})]}),e.jsxs("div",{className:"flex justify-between xs:hidden",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{s===1?l("/"):a(m=>m-1)},children:e.jsx(oe,{className:"text-3xl"})}),e.jsx("h1",{className:"text-2xl font-medium  ",children:s===1?"Patient details":fe===2?"Lab Booking":"Confirmation"})]}),e.jsx("div",{children:e.jsxs("h2",{className:"text-xs font-semibold",children:[e.jsxs("span",{className:"text-base  text-primary",children:["0",s]}),"/03"]})})]}),e.jsx("div",{className:"xs:py-20 space-x-1  md:space-x-4 max-w-3xl mx-auto flex items-center justify-center",children:Ae.map(m=>{const{id:o,name:p}=m;return e.jsx("div",{className:`flex-1 text-sm md: hidden xs:block border-b-4 pb-3  ${s===o?"text-black border-black":s>o?"text-green border-none":"text-[#C9C9C9] border-[#C9C9C9]"}`,children:e.jsxs("h1",{className:"text-xs md:text-sm font-semibold",children:[e.jsx("span",{className:"text-[26px]",children:o}),"  ",p]})},o)})}),s===1&&e.jsx(ye,{currentStep:s,setCurrentStep:a,patientValues:r,setPatientValues:x}),s===2&&e.jsx(Ce,{currentStep:s,setCurrentStep:a,testInfoValues:N,setTestInfoValues:j}),s===3&&e.jsx(Ee,{currentStep:s,setCurrentStep:a,testInfoValues:N,setTestInfoValues:j,patientValues:r,setShowConfirmMessage:c})]})]})};export{Fs as default};
