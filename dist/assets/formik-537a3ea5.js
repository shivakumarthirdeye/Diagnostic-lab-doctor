import{r as c}from"./react-951c301a.js";import{i as O}from"./react-fast-compare-539ed341.js";import{d as x}from"./deepmerge-15f827de.js";import{i as pe,t as ye,c as me}from"./lodash-es-87d1a1d5.js";import{w as Se}from"./tiny-warning-c932d744.js";import"./hoist-non-react-statics-936d9ad8.js";function T(){return T=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r},T.apply(this,arguments)}function Te(r,t){if(r==null)return{};var a={},i=Object.keys(r),u,s;for(s=0;s<i.length;s++)u=i[s],!(t.indexOf(u)>=0)&&(a[u]=r[u]);return a}var b=function(t){return typeof t=="function"},P=function(t){return t!==null&&typeof t=="object"},Be=function(t){return String(Math.floor(Number(t)))===t},X=function(t){return Object.prototype.toString.call(t)==="[object String]"},Ne=function(t){return c.Children.count(t)===0},Z=function(t){return P(t)&&b(t.then)};function I(r,t,a,i){i===void 0&&(i=0);for(var u=ye(t);r&&i<u.length;)r=r[u[i++]];return r===void 0?a:r}function D(r,t,a){for(var i=me(r),u=i,s=0,v=ye(t);s<v.length-1;s++){var m=v[s],F=I(r,v.slice(0,s+1));if(F&&(P(F)||Array.isArray(F)))u=u[m]=me(F);else{var y=v[s+1];u=u[m]=Be(y)&&Number(y)>=0?[]:{}}}return(s===0?r:u)[v[s]]===a?r:(a===void 0?delete u[v[s]]:u[v[s]]=a,s===0&&a===void 0&&delete i[v[s]],i)}function Fe(r,t,a,i){a===void 0&&(a=new WeakMap),i===void 0&&(i={});for(var u=0,s=Object.keys(r);u<s.length;u++){var v=s[u],m=r[v];P(m)?a.get(m)||(a.set(m,!0),i[v]=Array.isArray(m)?[]:{},Fe(m,t,a,i[v])):i[v]=t}return i}var W=c.createContext(void 0);W.displayName="FormikContext";var He=W.Provider;W.Consumer;function ge(){var r=c.useContext(W);return r||Se(!1),r}function Pe(r,t){switch(t.type){case"SET_VALUES":return T({},r,{values:t.payload});case"SET_TOUCHED":return T({},r,{touched:t.payload});case"SET_ERRORS":return O(r.errors,t.payload)?r:T({},r,{errors:t.payload});case"SET_STATUS":return T({},r,{status:t.payload});case"SET_ISSUBMITTING":return T({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return T({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return T({},r,{values:D(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return T({},r,{touched:D(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return T({},r,{errors:D(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return T({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return T({},r,{touched:Fe(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return T({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return T({},r,{isSubmitting:!1});default:return r}}var k={},j={};function Ge(r){var t=r.validateOnChange,a=t===void 0?!0:t,i=r.validateOnBlur,u=i===void 0?!0:i,s=r.validateOnMount,v=s===void 0?!1:s,m=r.isInitialValid,F=r.enableReinitialize,y=F===void 0?!1:F,N=r.onSubmit,be=Te(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=T({validateOnChange:a,validateOnBlur:u,validateOnMount:v,onSubmit:N},be),A=c.useRef(d.initialValues),V=c.useRef(d.initialErrors||k),L=c.useRef(d.initialTouched||j),w=c.useRef(d.initialStatus),R=c.useRef(!1),M=c.useRef({});c.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var re=c.useReducer(Pe,{values:d.initialValues,errors:d.initialErrors||k,touched:d.initialTouched||j,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),p=re[0],E=re[1],te=c.useCallback(function(e,n){return new Promise(function(l,o){var f=d.validate(e,n);f==null?l(k):Z(f)?f.then(function(h){l(h||k)},function(h){o(h)}):l(f)})},[d.validate]),K=c.useCallback(function(e,n){var l=d.validationSchema,o=b(l)?l(n):l,f=n&&o.validateAt?o.validateAt(n,e):We(e,o);return new Promise(function(h,S){f.then(function(){h(k)},function(_){_.name==="ValidationError"?h(je(_)):S(_)})})},[d.validationSchema]),ie=c.useCallback(function(e,n){return new Promise(function(l){return l(M.current[e].validate(n))})},[]),ne=c.useCallback(function(e){var n=Object.keys(M.current).filter(function(o){return b(M.current[o].validate)}),l=n.length>0?n.map(function(o){return ie(o,I(e,o))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(l).then(function(o){return o.reduce(function(f,h,S){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(f=D(f,n[S],h)),f},{})})},[ie]),Ie=c.useCallback(function(e){return Promise.all([ne(e),d.validationSchema?K(e):{},d.validate?te(e):{}]).then(function(n){var l=n[0],o=n[1],f=n[2],h=x.all([l,o,f],{arrayMerge:Ke});return h})},[d.validate,d.validationSchema,ne,te,K]),C=g(function(e){return e===void 0&&(e=p.values),E({type:"SET_ISVALIDATING",payload:!0}),Ie(e).then(function(n){return R.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:n})),n})});c.useEffect(function(){v&&R.current===!0&&O(A.current,d.initialValues)&&C(A.current)},[v,C]);var H=c.useCallback(function(e){var n=e&&e.values?e.values:A.current,l=e&&e.errors?e.errors:V.current?V.current:d.initialErrors||{},o=e&&e.touched?e.touched:L.current?L.current:d.initialTouched||{},f=e&&e.status?e.status:w.current?w.current:d.initialStatus;A.current=n,V.current=l,L.current=o,w.current=f;var h=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:l,touched:o,status:f,values:n,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(d.onReset){var S=d.onReset(p.values,he);Z(S)?S.then(h):h()}else h()},[d.initialErrors,d.initialStatus,d.initialTouched]);c.useEffect(function(){R.current===!0&&!O(A.current,d.initialValues)&&(y&&(A.current=d.initialValues,H()),v&&C(A.current))},[y,d.initialValues,H,v,C]),c.useEffect(function(){y&&R.current===!0&&!O(V.current,d.initialErrors)&&(V.current=d.initialErrors||k,E({type:"SET_ERRORS",payload:d.initialErrors||k}))},[y,d.initialErrors]),c.useEffect(function(){y&&R.current===!0&&!O(L.current,d.initialTouched)&&(L.current=d.initialTouched||j,E({type:"SET_TOUCHED",payload:d.initialTouched||j}))},[y,d.initialTouched]),c.useEffect(function(){y&&R.current===!0&&!O(w.current,d.initialStatus)&&(w.current=d.initialStatus,E({type:"SET_STATUS",payload:d.initialStatus}))},[y,d.initialStatus,d.initialTouched]);var ae=g(function(e){if(M.current[e]&&b(M.current[e].validate)){var n=I(p.values,e),l=M.current[e].validate(n);return Z(l)?(E({type:"SET_ISVALIDATING",payload:!0}),l.then(function(o){return o}).then(function(o){E({type:"SET_FIELD_ERROR",payload:{field:e,value:o}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:l}}),Promise.resolve(l))}else if(d.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),K(p.values,e).then(function(o){return o}).then(function(o){E({type:"SET_FIELD_ERROR",payload:{field:e,value:o[e]}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ae=c.useCallback(function(e,n){var l=n.validate;M.current[e]={validate:l}},[]),Re=c.useCallback(function(e){delete M.current[e]},[]),ue=g(function(e,n){E({type:"SET_TOUCHED",payload:e});var l=n===void 0?u:n;return l?C(p.values):Promise.resolve()}),le=c.useCallback(function(e){E({type:"SET_ERRORS",payload:e})},[]),oe=g(function(e,n){var l=b(e)?e(p.values):e;E({type:"SET_VALUES",payload:l});var o=n===void 0?a:n;return o?C(l):Promise.resolve()}),G=c.useCallback(function(e,n){E({type:"SET_FIELD_ERROR",payload:{field:e,value:n}})},[]),U=g(function(e,n,l){E({type:"SET_FIELD_VALUE",payload:{field:e,value:n}});var o=l===void 0?a:l;return o?C(D(p.values,e,n)):Promise.resolve()}),se=c.useCallback(function(e,n){var l=n,o=e,f;if(!X(e)){e.persist&&e.persist();var h=e.target?e.target:e.currentTarget,S=h.type,_=h.name,J=h.id,Q=h.value,we=h.checked,Je=h.outerHTML,Ee=h.options,Ue=h.multiple;l=n||_||J,o=/number|range/.test(S)?(f=parseFloat(Q),isNaN(f)?"":f):/checkbox/.test(S)?ze(I(p.values,l),we,Q):Ee&&Ue?$e(Ee):Q}l&&U(l,o)},[U,p.values]),$=g(function(e){if(X(e))return function(n){return se(n,e)};se(e)}),B=g(function(e,n,l){n===void 0&&(n=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:n}});var o=l===void 0?u:l;return o?C(p.values):Promise.resolve()}),ce=c.useCallback(function(e,n){e.persist&&e.persist();var l=e.target,o=l.name,f=l.id,h=l.outerHTML,S=n||o||f;B(S,!0)},[B]),z=g(function(e){if(X(e))return function(n){return ce(n,e)};ce(e)}),de=c.useCallback(function(e){b(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),fe=c.useCallback(function(e){E({type:"SET_STATUS",payload:e})},[]),ve=c.useCallback(function(e){E({type:"SET_ISSUBMITTING",payload:e})},[]),Y=g(function(){return E({type:"SUBMIT_ATTEMPT"}),C().then(function(e){var n=e instanceof Error,l=!n&&Object.keys(e).length===0;if(l){var o;try{if(o=_e(),o===void 0)return}catch(f){throw f}return Promise.resolve(o).then(function(f){return R.current&&E({type:"SUBMIT_SUCCESS"}),f}).catch(function(f){if(R.current)throw E({type:"SUBMIT_FAILURE"}),f})}else if(R.current&&(E({type:"SUBMIT_FAILURE"}),n))throw e})}),Ce=g(function(e){e&&e.preventDefault&&b(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&b(e.stopPropagation)&&e.stopPropagation(),Y().catch(function(n){console.warn("Warning: An unhandled error was caught from submitForm()",n)})}),he={resetForm:H,validateForm:C,validateField:ae,setErrors:le,setFieldError:G,setFieldTouched:B,setFieldValue:U,setStatus:fe,setSubmitting:ve,setTouched:ue,setValues:oe,setFormikState:de,submitForm:Y},_e=g(function(){return N(p.values,he)}),Me=g(function(e){e&&e.preventDefault&&b(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&b(e.stopPropagation)&&e.stopPropagation(),H()}),Ve=c.useCallback(function(e){return{value:I(p.values,e),error:I(p.errors,e),touched:!!I(p.touched,e),initialValue:I(A.current,e),initialTouched:!!I(L.current,e),initialError:I(V.current,e)}},[p.errors,p.touched,p.values]),Le=c.useCallback(function(e){return{setValue:function(l,o){return U(e,l,o)},setTouched:function(l,o){return B(e,l,o)},setError:function(l){return G(e,l)}}},[U,B,G]),ke=c.useCallback(function(e){var n=P(e),l=n?e.name:e,o=I(p.values,l),f={name:l,value:o,onChange:$,onBlur:z};if(n){var h=e.type,S=e.value,_=e.as,J=e.multiple;h==="checkbox"?S===void 0?f.checked=!!o:(f.checked=!!(Array.isArray(o)&&~o.indexOf(S)),f.value=S):h==="radio"?(f.checked=o===S,f.value=S):_==="select"&&J&&(f.value=f.value||[],f.multiple=!0)}return f},[z,$,p.values]),q=c.useMemo(function(){return!O(A.current,p.values)},[A.current,p.values]),Oe=c.useMemo(function(){return typeof m<"u"?q?p.errors&&Object.keys(p.errors).length===0:m!==!1&&b(m)?m(d):m:p.errors&&Object.keys(p.errors).length===0},[m,q,p.errors,d]),De=T({},p,{initialValues:A.current,initialErrors:V.current,initialTouched:L.current,initialStatus:w.current,handleBlur:z,handleChange:$,handleReset:Me,handleSubmit:Ce,resetForm:H,setErrors:le,setFormikState:de,setFieldTouched:B,setFieldValue:U,setFieldError:G,setStatus:fe,setSubmitting:ve,setTouched:ue,setValues:oe,submitForm:Y,validateForm:C,validateField:ae,isValid:Oe,dirty:q,unregisterField:Re,registerField:Ae,getFieldProps:ke,getFieldMeta:Ve,getFieldHelpers:Le,validateOnBlur:u,validateOnChange:a,validateOnMount:v});return De}function tr(r){var t=Ge(r),a=r.component,i=r.children,u=r.render,s=r.innerRef;return c.useImperativeHandle(s,function(){return t}),c.createElement(He,{value:t},a?c.createElement(a,t):u?u(t):i?b(i)?i(t):Ne(i)?null:c.Children.only(i):null)}function je(r){var t={};if(r.inner){if(r.inner.length===0)return D(t,r.path,r.message);for(var u=r.inner,a=Array.isArray(u),i=0,u=a?u:u[Symbol.iterator]();;){var s;if(a){if(i>=u.length)break;s=u[i++]}else{if(i=u.next(),i.done)break;s=i.value}var v=s;I(t,v.path)||(t=D(t,v.path,v.message))}}return t}function We(r,t,a,i){a===void 0&&(a=!1),i===void 0&&(i={});var u=ee(r);return t[a?"validateSync":"validate"](u,{abortEarly:!1,context:i})}function ee(r){var t=Array.isArray(r)?[]:{};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=String(a);Array.isArray(r[i])===!0?t[i]=r[i].map(function(u){return Array.isArray(u)===!0||pe(u)?ee(u):u!==""?u:void 0}):pe(r[i])?t[i]=ee(r[i]):t[i]=r[i]!==""?r[i]:void 0}return t}function Ke(r,t,a){var i=r.slice();return t.forEach(function(s,v){if(typeof i[v]>"u"){var m=a.clone!==!1,F=m&&a.isMergeableObject(s);i[v]=F?x(Array.isArray(s)?[]:{},s,a):s}else a.isMergeableObject(s)?i[v]=x(r[v],s,a):r.indexOf(s)===-1&&i.push(s)}),i}function $e(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function ze(r,t,a){if(typeof r=="boolean")return!!t;var i=[],u=!1,s=-1;if(Array.isArray(r))i=r,s=r.indexOf(a),u=s>=0;else if(!a||a=="true"||a=="false")return!!t;return t&&a&&!u?i.concat(a):u?i.slice(0,s).concat(i.slice(s+1)):i}var Ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function g(r){var t=c.useRef(r);return Ye(function(){t.current=r}),c.useCallback(function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return t.current.apply(void 0,i)},[])}function ir(r){var t=ge(),a=t.getFieldProps,i=t.getFieldMeta,u=t.getFieldHelpers,s=t.registerField,v=t.unregisterField,m=P(r),F=m?r:{name:r},y=F.name,N=F.validate;return c.useEffect(function(){return y&&s(y,{validate:N}),function(){y&&v(y)}},[s,v,y,N]),y||Se(!1),[a(F),i(y),u(y)]}var qe=c.forwardRef(function(r,t){var a=r.action,i=Te(r,["action"]),u=a??"#",s=ge(),v=s.handleReset,m=s.handleSubmit;return c.createElement("form",Object.assign({onSubmit:m,ref:t,onReset:v,action:u},i))});qe.displayName="Form";export{tr as F,qe as a,ge as b,ir as u};
